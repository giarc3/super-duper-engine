<!DOCTYPE html>
<html lang="en">
  <head>
    <title>IronOxide  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="IronOxide  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">IronOxide Docs</a> (0% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">IronOxide Reference</a>
        <img id="carat" src="img/carat.png" />
        IronOxide  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='ironoxide-swift' class='heading'>IronOxide Swift</h1>

<p>Swift SDK for using IronCore Labs from your iOS mobile applications.</p>
<h2 id='building-and-testing' class='heading'>Building and Testing</h2>

<p>Building this library is pretty manual at the moment and takes a lot of steps. We&rsquo;re still figuring out how it all works.</p>

<ul>
<li>This repo should be checked out as a sibling of the <a href="https://github.com/IronCoreLabs/ironoxide-java">IronOxide Java repo</a>.</li>
<li>Build the C/C++ bindings within your <code>ironoxide-java</code> checkout

<ul>
<li>[Mac] Go into the <code>cpp</code> directory and modify the <code>Cargo.toml</code> file to build a <code>staticlib</code> instead of a <code>cdylib</code></li>
<li>Run <code>cargo build --release</code>. This will generate a bunch of C/C++ header files in a <code>sdk/generated</code> folder as well as generate a library binary in the <code>ironoxide-java/target/release/</code> directory.</li>
<li>[Linux] Set the environment variable <code>LD_LIBRARY_PATH</code> to the <code>ironoxide-java/target/release</code> folder</li>
</ul></li>
<li>Install Swift via the <a href="https://swift.org/getting-started/#installing-swift">recommended method</a>. You should have at least Swift 5.2 installed.</li>
<li>Now you can compile this project via <code>swift build</code>. If successful this should generate a <code>.build</code> directory which is similar to the <code>target</code> directory generated in Rust projects. You should also be able to run the tests via <code>swift test</code> as well (Linux users will need to run <code>swift test --enable-test-discovery</code>).</li>
</ul>
<h2 id='vscode-setup' class='heading'>VSCode Setup</h2>

<ul>
<li>Install <a href="https://github.com/realm/SwiftLint">SwiftLint</a> and <a href="https://github.com/nicklockwood/SwiftFormat">SwiftFormat</a> binaries.</li>
<li>Install the <a href="https://marketplace.visualstudio.com/items?itemName=vknabel.vscode-swiftlint">SwiftLint</a> and <a href="https://marketplace.visualstudio.com/items?itemName=vknabel.vscode-swiftformat">SwiftFormat</a> extensions. If you don&rsquo;t have it enabled already, enable the <code>Format on Save</code> option in VSCode.</li>
<li>Clone the <a href="https://github.com/apple/sourcekit-lsp">sourcekit-lsp extension</a>. Then follow the <a href="https://github.com/apple/sourcekit-lsp/tree/master/Editors/vscode">instructions</a> for how to build and install the extension into VSCode. In order for this extension to work you&rsquo;ll need to have the <code>sourcekit-lsp</code> binary that came with your Swift installation in your path.</li>
</ul>
<h2 id='adding-library-to-ios-project-in-xcode' class='heading'>Adding Library to iOS Project in XCode</h2>

<p>XCode dependencies are added via URLs, usually pointing directly to a GitHub repository. You can also use the <code>file://</code> protocol to have it point to a local library on disk.</p>

<ul>
<li>Compile the <code>ironoxide-java</code> binary for the <code>x86_64-apple-ios</code> target. From the <code>ironoxide-java/cpp</code> directry run <code>cargo build --release --target x86_64-apple-ios</code></li>
<li>In your iOS app in XCode, select <code>File -&gt; Swift Packages -&gt; Add Package Dependency..</code>.</li>
<li>In the popup, either enter the URL to this repo, or use the <code>file://</code> syntax to point to the directory of your checked out repo.</li>
<li>Pick the tag/branch/rev you want to point to and add the dependency.</li>
<li>Now we have to include the native library to the project. Click on your iOS project and select the <code>Build Settings</code> tab. Click the <code>All</code> option to show all values, then scroll down to the <code>Search Paths</code> section. Add an option to the <code>Library Search Paths</code> and put in the fully qualified path to your <code>ironoxide-java/target/x86_64-apple-ios/release/</code> directory.</li>
</ul>

<p>Once complete, you should be able to do <code>import IronOxide</code> in your Swift files and use the SDK.</p>
<h2 id='generating-docs' class='heading'>Generating Docs</h2>

<p>We use <a href="https://github.com/realm/jazzy">jazzy</a> to generate an HTML version of our API docs. Jazzy requires Ruby and can be installed with <code>[sudo] gem install jazzy</code>.
On a Mac, the docs can be generated simply by running <code>jazzy --module IronOxide</code> from the root of the repository. This will generate a <code>docs/</code> folder that contains the html files. To run jazzy on Linux, additional steps for installing and running can be found <a href="https://github.com/realm/jazzy#linux">here</a>.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2020 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2020-06-16)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
